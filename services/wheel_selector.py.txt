import csv

CSV_PATH = "data/wheel_sizes.csv"

def get_wheel_data(brand, model, year):
    results = []
    with open(CSV_PATH, encoding="utf-8") as f:
        reader = csv.DictReader(f)
        for row in reader:
            if row["brand"] == brand and row["model"] == model and int(row["year"]) == int(year):
                results.append(row)
    return results

def format_wheel_answer(data):
    if not data:
        return "‚ùå –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ –¥–∏—Å–∫–∞–º –¥–ª—è —ç—Ç–æ–≥–æ –∞–≤—Ç–æ."
    d = data[0]
    return f"""üõû –ü–æ–¥–±–æ—Ä –¥–∏—Å–∫–æ–≤:

PCD: {d['pcd']}
DIA: {d['dia']}
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ–ª—Ç–æ–≤: {d['bolt_count']}

üìè –†–∞–∑–º–µ—Ä—ã –¥–∏—Å–∫–æ–≤:
‚Ä¢ R{d['rim_min']} ‚Äì R{d['rim_max']}
‚Ä¢ –í—ã–ª–µ—Ç (ET): {d['offset_min']} ‚Äì {d['offset_max']}

‚≠ê –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
R{d['rim_max']} | ET {(int(d['offset_min']) + int(d['offset_max'])) // 2}
"""
